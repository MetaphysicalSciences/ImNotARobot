<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Surprise Game 2</title>
<style>
body,html{margin:0;padding:0;overflow:hidden;background:#000}canvas{display:block}
</style>
</head>
<body>
<canvas></canvas>
<script>
const c=document.querySelector("canvas"),ctx=c.getContext("2d");
let w=innerWidth,h=innerHeight;c.width=w;c.height=h;
let particles=[];
let mouse={x:w/2,y:h/2,down:false};
document.addEventListener("mousemove",e=>{mouse.x=e.clientX;mouse.y=e.clientY});
document.addEventListener("mousedown",()=>{mouse.down=true});
document.addEventListener("mouseup",()=>{mouse.down=false});
document.addEventListener("touchstart",e=>{mouse.down=true;mouse.x=e.touches[0].clientX;mouse.y=e.touches[0].clientY});
document.addEventListener("touchmove",e=>{mouse.x=e.touches[0].clientX;mouse.y=e.touches[0].clientY});
document.addEventListener("touchend",()=>{mouse.down=false});
function rand(min,max){return Math.random()*(max-min)+min}
class Particle{
  constructor(x,y,r,c,dx,dy){this.x=x;this.y=y;this.r=r;this.c=c;this.dx=dx;this.dy=dy;this.life=rand(60,120);}
  update(){
    this.x+=this.dx; this.y+=this.dy; this.life--;
    if(this.life<0)this.reset();
  }
  reset(){this.x=w/2;this.y=h/2;this.dx=rand(-4,4);this.dy=rand(-4,4);this.r=rand(2,8);this.life=rand(60,120);}
  draw(){ctx.fillStyle=this.c;ctx.beginPath();ctx.arc(this.x,this.y,this.r,0,2*Math.PI);ctx.fill();}
}
for(let i=0;i<100;i++){particles.push(new Particle(w/2,h/2,rand(2,8),`hsl(${rand(0,360)},80%,60%)`,rand(-4,4),rand(-4,4)))}
function loop(){
  requestAnimationFrame(loop);
  ctx.fillStyle='rgba(0,0,0,0.1)';ctx.fillRect(0,0,w,h);
  if(mouse.down){
    for(let i=0;i<5;i++){
      let p=new Particle(mouse.x,mouse.y,rand(2,6),`hsl(${rand(0,360)},100%,50%)`,rand(-6,6),rand(-6,6));
      particles.push(p);
    }
  }
  particles.forEach(p=>{p.update();p.draw();});
}
loop();
window.addEventListener("resize",()=>{w=innerWidth;h=innerHeight;c.width=w;c.height=h;});
</script>
</body>
</html>
