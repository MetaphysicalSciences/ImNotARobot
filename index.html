<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Im Not a Bot ü§ñ</title>
<style>
body {
  font-family: sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  background: #f0f0f0;
  margin: 0;
}
h1 { margin-bottom: 20px; }
#main-menu, #game-container { display: flex; flex-direction: column; align-items: center; }
#captcha-container, #level2-container, #clicker-container { display: grid; grid-template-columns: repeat(3, 80px); grid-gap: 10px; margin-bottom: 20px; }
.captcha-cell, .level2-cell, .clicker-btn { display: flex; align-items: center; justify-content: center; font-size: 40px; width: 80px; height: 80px; background: white; border: 2px solid #ccc; border-radius: 8px; cursor: pointer; user-select: none; }
.captcha-cell.selected, .level2-cell.selected { border-color: green; background: #d4ffd4; }
#verify-btn, #level2-verify, #clicker-verify, #start-btn { padding: 10px 20px; font-size: 16px; cursor: pointer; margin-top: 10px; }
#message { font-weight: bold; margin-bottom: 10px; }
#level-display { margin-bottom: 10px; font-weight: bold; }
</style>
</head>
<body>

<div id="main-menu">
  <h1>Im Not a Bot ü§ñ</h1>
  <button id="start-btn">Verify</button>
</div>

<div id="game-container" style="display:none;">
  <div id="level-display"></div>
  <div id="instruction"></div>
  <div id="captcha-container"></div>
  <div id="level2-container"></div>
  <div id="clicker-container"></div>
  <div id="message"></div>
  <button id="verify-btn" style="display:none;">Verify</button>
  <button id="level2-verify" style="display:none;">Verify</button>
  <button id="clicker-verify" style="display:none;">Verify</button>
</div>

<script>
const captchaTypes = ['üê∂','üê±','üçé','üçå','üöó','‚úàÔ∏è','üå≤','üå∏'];
let currentLevel = 1;
let currentCaptcha = null;
let clickCount = 0;
let level2Target = null;

const mainMenu = document.getElementById('main-menu');
const gameContainer = document.getElementById('game-container');
const levelDisplay = document.getElementById('level-display');
const instruction = document.getElementById('instruction');
const captchaContainer = document.getElementById('captcha-container');
const level2Container = document.getElementById('level2-container');
const clickerContainer = document.getElementById('clicker-container');
const message = document.getElementById('message');
const verifyBtn = document.getElementById('verify-btn');
const level2Verify = document.getElementById('level2-verify');
const clickerVerify = document.getElementById('clicker-verify');

document.getElementById('start-btn').onclick = () => {
  mainMenu.style.display = 'none';
  gameContainer.style.display = 'flex';
  startLevel1();
};

function startLevel1() {
  currentLevel = 1;
  levelDisplay.textContent = `Level ${currentLevel}`;
  verifyBtn.style.display = 'inline-block';
  level2Container.style.display = 'none';
  clickerContainer.style.display = 'none';
  captchaContainer.style.display = 'grid';
  generateCaptcha();
}

function generateCaptcha() {
  captchaContainer.innerHTML = '';
  const type = captchaTypes[Math.floor(Math.random() * captchaTypes.length)];
  currentCaptcha = type;
  const options = [];
  const correctCount = 2 + Math.floor(Math.random()*2);
  const incorrectCount = 9 - correctCount;
  for (let i=0;i<correctCount;i++) options.push(type);
  while (options.length<9){
    let emoji;
    do { emoji = captchaTypes[Math.floor(Math.random()*captchaTypes.length)]; } while (emoji===type);
    options.push(emoji);
  }
  options.sort(()=>Math.random()-0.5);
  options.forEach(emoji=>{
    const cell = document.createElement('div');
    cell.className='captcha-cell';
    cell.textContent=emoji;
    cell.onclick=()=>cell.classList.toggle('selected');
    captchaContainer.appendChild(cell);
  });
  instruction.textContent = `Select all ${type}`;
  message.textContent = '';
}

verifyBtn.onclick = ()=>{
  const cells=document.querySelectorAll('.captcha-cell');
  let correct=true;
  cells.forEach(cell=>{
    if(cell.textContent===currentCaptcha&&!cell.classList.contains('selected')) correct=false;
    if(cell.textContent!==currentCaptcha&&cell.classList.contains('selected')) correct=false;
  });
  if(correct){
    message.textContent='‚úÖ Verified!';
    message.style.color='green';
    setTimeout(startLevel2,1000);
  }else{
    message.textContent='‚ùå Try again';
    message.style.color='red';
  }
};

function startLevel2(){
  currentLevel=2;
  levelDisplay.textContent=`Level ${currentLevel}`;
  captchaContainer.style.display='none';
  verifyBtn.style.display='none';
  level2Container.style.display='grid';
  clickerContainer.style.display='none';
  level2Container.innerHTML='';
  level2Target=Math.floor(Math.random()*3)+1; // pick a row to select
  const rows=3;
  const cols=3;
  for(let i=0;i<rows;i++){
    for(let j=0;j<cols;j++){
      const cell=document.createElement('div');
      cell.className='level2-cell';
      const rand=Math.random()<0.5?'üü©':'üü•';
      cell.textContent=rand;
      cell.dataset.row=i;
      cell.onclick=()=>cell.classList.toggle('selected');
      level2Container.appendChild(cell);
    }
  }
  instruction.textContent=`Select all green squares in row ${level2Target}`;
  level2Verify.style.display='inline-block';
  message.textContent='';
}

level2Verify.onclick=()=>{
  const cells=document.querySelectorAll('.level2-cell');
  let correct=true;
  cells.forEach(cell=>{
    if(parseInt(cell.dataset.row)+1===level2Target && cell.textContent==='üü©' && !cell.classList.contains('selected')) correct=false;
    if((parseInt(cell.dataset.row)+1!==level2Target || cell.textContent!=='üü©') && cell.classList.contains('selected')) correct=false;
  });
  if(correct){
    message.textContent='‚úÖ Verified!';
    message.style.color='green';
    setTimeout(startLevel3,1000);
  }else{
    message.textContent='‚ùå Try again';
    message.style.color='red';
  }
};

function startLevel3(){
  currentLevel=3;
  levelDisplay.textContent=`Level ${currentLevel}`;
  captchaContainer.style.display='none';
  verifyBtn.style.display='none';
  level2Container.style.display='none';
  clickerContainer.style.display='flex';
  clickerContainer.innerHTML='';
  clickCount=0;
  const btn=document.createElement('div');
  btn.className='clicker-btn';
  btn.textContent='Click me!';
  btn.onclick=()=>{ clickCount++; instruction.textContent=`Click count: ${clickCount}/400`; };
  clickerContainer.appendChild(btn);
  instruction.textContent='Click count: 0/400';
  clickerVerify.style.display='inline-block';
  message.textContent='';
}

clickerVerify.onclick=()=>{
  if(clickCount>=400){
    message.textContent='‚úÖ Verified! All levels complete!';
    message.style.color='green';
    instruction.textContent='üéâ You are human!';
    clickerVerify.style.display='none';
  }else{
    message.textContent='‚ùå Not enough clicks!';
    message.style.color='red';
  }
};
</script>

</body>
</html>
