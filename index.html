<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Im not a bot 🤖</title>
<style>
:root{
  --bg:#f4f6f8;--card:#ffffff;--accent:#1a73e8;--ok:#16a34a;--danger:#ef4444;--muted:#6b7280
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{font-family:Inter,system-ui,sans-serif;background:linear-gradient(180deg,#eef2ff 0%,var(--bg) 60%);display:flex;justify-content:center;align-items:center;padding:20px;color:#111827}
.app{width:980px;max-width:96%;padding:22px;background:transparent}
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.title{display:flex;gap:14px;align-items:center}
.logo{width:56px;height:56px;background:linear-gradient(135deg,#fff,#eef2ff);border-radius:10px;display:flex;justify-content:center;align-items:center;font-size:26px;box-shadow:0 4px 14px rgba(17,24,39,0.06)}
.h1{font-size:20px;font-weight:700;letter-spacing:0.2px}
.subtitle{color:var(--muted);font-size:13px}
.controls{display:flex;gap:10px;align-items:center}
.btn{background:var(--accent);color:white;padding:10px 14px;border-radius:8px;border:0;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(26,115,232,0.18)}
.btn.ghost{background:transparent;color:var(--accent);box-shadow:none;border:1px solid rgba(26,115,232,0.12)}
.layout{display:grid;grid-template-columns:1fr 320px;gap:18px;align-items:start}
.card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 20px rgba(15,23,42,0.04)}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.cell{background:linear-gradient(180deg,#fff,#fbfdff);border:2px solid #e6eef9;border-radius:10px;height:96px;display:flex;align-items:center;justify-content:center;font-size:36px;cursor:pointer;user-select:none;transition:transform .12s,box-shadow .12s,border-color .12s}
.cell:active{transform:scale(.98)}
.cell.selected{border-color:var(--ok);box-shadow:0 6px 18px rgba(16,185,129,0.08);background:#f6fffa}
.instruction{display:flex;gap:12px;align-items:center;margin-bottom:12px}
.fake-checkbox{width:22px;height:22px;border-radius:4px;border:2px solid #cbd5e1;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;background:white}
.fake-checkbox.on{background:linear-gradient(90deg,#fff,#eceffb);border-color:#9be7a3}
.small{font-size:13px;color:var(--muted)}
.message{font-weight:700;margin-top:12px}
.side-list{display:flex;flex-direction:column;gap:8px}
.side-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;background:#fbfdff;border:1px solid #eef3ff}
.progress-wrap{margin-top:12px}
.progress-bar{height:12px;background:#e6eef9;border-radius:999px;overflow:hidden}
.progress-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#60a5fa)}
.level-badge{background:#eef2ff;color:var(--accent);padding:6px 10px;border-radius:999px;font-weight:700}
.verify-btn{margin-top:14px;width:100%;padding:12px;border-radius:10px;border:0;font-weight:700;cursor:pointer;background:linear-gradient(90deg,var(--accent),#3b82f6);color:white}
.small-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.tile{background:#fff;border-radius:8px;padding:8px;border:1px solid #eef3ff;display:flex;align-items:center;justify-content:center;height:62px;font-size:28px;cursor:pointer}
.tile.matched{background:#e6ffef;border-color:#bbf7d0;box-shadow:0 6px 18px rgba(16,185,129,0.06)}
.input{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef9;font-size:15px}
.footer-small{font-size:12px;color:var(--muted);text-align:center;margin-top:8px}
</style>
</head>
<body>
<div class="app">
<div class="header">
  <div class="title">
    <div class="logo">🤖</div>
    <div>
      <div class="h1">Im not a bot 🤖</div>
      <div class="subtitle">captcha-style mini game adventure</div>
    </div>
  </div>
  <div class="controls">
    <div class="level-badge" id="levelBadge">Menu</div>
    <button class="btn" id="startBtn">Verify</button>
    <button class="btn ghost" id="resetBtn">Reset</button>
  </div>
</div>

<div class="layout">
  <div class="card left" id="mainCard">
    <div id="mainArea">
      <div class="center" style="flex-direction:column">
        <h2 id="screenTitle">Main Menu</h2>
        <div class="small-muted" id="screenSub">Press Verify to start</div>
        <div style="height:18px"></div>
        <div style="width:220px">
          <button class="verify-btn" id="menuVerify">Verify</button>
        </div>
      </div>
    </div>
  </div>

  <div class="card right">
    <div class="side-list">
      <div class="side-item">
        <div>
          <div class="small-muted">Current Level</div>
          <div id="sideLevel" style="font-weight:800">—</div>
        </div>
        <div id="sideAction" class="small-muted">Waiting</div>
      </div>

      <div class="side-item">
        <div>
          <div class="small-muted">Progress</div>
          <div class="count-box" id="sideProgress">0 / 18</div>
        </div>
        <div class="small-muted" id="sideHint">Complete captchas to advance</div>
      </div>

      <div class="side-item">
        <div>
          <div class="small-muted">Status</div>
          <div id="sideStatus" style="font-weight:800">Idle</div>
        </div>
        <div class="small-muted" id="sideExtra">Good luck!</div>
      </div>

      <div class="side-item progress-wrap">
        <div class="small-muted">Level Progress</div>
        <div class="progress-bar" style="margin-top:8px">
          <div class="progress-fill" id="levelFill"></div>
        </div>
      </div>

      <div class="side-item">
        <div class="small-muted">Tip</div>
        <div class="small-muted" id="sideTip">Levels get varied — try different interactions.</div>
      </div>
    </div>
  </div>
</div>

<div class="footer-small">Built to be extended. Refresh to reset everything.</div>
</div>

<script>
const emojis = ['🐶','🐱','🐼','🦊','🐻','🐸','🦁','🐷','🐵','🐔','🦄','🐙','🐢','🦋','🍎','🍌','🍇','🍓','🍍','🍑','🚗','🚲','✈️','🚌','🌲','🌸','🌵','🔥','💧','🔴','🔵','🟢','🟡','🟣'];
let state = {level:0,unlocked:0,clicks:0,progress:0,flappyScore:0};
const totalLevels = 18;
const mainArea = document.getElementById('mainArea');
const levelBadge = document.getElementById('levelBadge');
const sideLevel = document.getElementById('sideLevel');
const sideAction = document.getElementById('sideAction');
const sideStatus = document.getElementById('sideStatus');
const sideProgress = document.getElementById('sideProgress');
const levelFill = document.getElementById('levelFill');
const sideTip = document.getElementById('sideTip');
const startBtn = document.getElementById('startBtn');
const resetBtn = document.getElementById('resetBtn');
const menuVerify = document.getElementById('menuVerify');
const screenTitle = document.getElementById('screenTitle');
const screenSub = document.getElementById('screenSub');
let currentLevelObj = null;

function rand(arr){return arr[Math.floor(Math.random()*arr.length)]}
function shuffle(a){for(let i=a.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a}

function toMenu(){
  state.level = 0;
  updateUI();
  mainArea.innerHTML = `
    <div class="center" style="flex-direction:column">
      <h2 id="screenTitle">Main Menu</h2>
      <div class="small-muted" id="screenSub">Press Verify to start</div>
      <div style="height:18px"></div>
      <div style="width:220px">
        <button class="verify-btn" id="menuVerifyBtn">Verify</button>
      </div>
    </div>
  `;
  document.getElementById('menuVerifyBtn').onclick = ()=>startLevel(1);
}

function updateUI(){
  levelBadge.textContent = state.level===0 ? 'Menu' : `Lv ${state.level}`;
  sideLevel.textContent = state.level===0 ? 'Menu' : `Level ${state.level}`;
  sideAction.textContent = state.level===0 ? 'Start' : 'In progress';
  sideStatus.textContent = state.level===0 ? 'Idle' : 'Playing';
  sideProgress.textContent = `${state.unlocked} / ${totalLevels}`;
  const pct = Math.round((state.unlocked/totalLevels)*100);
  levelFill.style.width = pct + '%';
}

function startLevel(n){
  state.level = n;
  updateUI();
  mainArea.innerHTML = '';
  currentLevelObj = levels[n];
  if(!currentLevelObj) return;
  currentLevelObj.render(mainArea,()=>levelSuccess());
}

function levelSuccess(){
  state.unlocked = Math.max(state.unlocked, state.level);
  state.progress = state.unlocked;
  updateUI();
  mainArea.innerHTML = `
    <div class="center" style="flex-direction:column">
      <div style="font-size:36px" class="success">✅ Verified!</div>
      <div style="height:12px"></div>
      <div class="small-muted">Level ${state.level} complete</div>
      <div style="height:16px"></div>
      <button class="verify-btn" id="nextLevelBtn">Next Level</button>
    </div>
  `;
  document.getElementById('nextLevelBtn').onclick = ()=>{
    if(state.level+1 <= totalLevels) startLevel(state.level+1);
    else toMenu();
  }
}

resetBtn.onclick = ()=>location.reload();
startBtn.onclick = ()=>startLevel(1);
menuVerify.onclick = ()=>startLevel(1);

const levels = {
  1:{
    render(parent,done){
      const target = rand(emojis);
      const options = shuffle([target,rand(emojis),rand(emojis),rand(emojis)]);
      parent.innerHTML = `<div class="instruction">Select <b>${target}</b></div><div class="grid"></div>`;
      const grid = parent.querySelector('.grid');
      options.forEach(e=>{
        const div = document.createElement('div');div.className='cell';div.textContent=e;
        div.onclick=()=>{if(e===target)done(); else div.style.borderColor='red'}
        grid.appendChild(div);
      });
    }
  },
  2:{
    render(parent,done){
      const txt = rand(['Type the word bot','Click the boxes','Find the 🔥 emoji','Select two matching','Press green']);
      parent.innerHTML = `<div class="instruction">${txt}</div>`;
      const btn = document.createElement('button');btn.className='verify-btn';btn.textContent='Done';
      btn.onclick=done;parent.appendChild(btn);
    }
  },
  3:{
    render(parent,done){
      state.clicks = 0;
      parent.innerHTML = `<div class="instruction">Click the button 400 times</div><button class="verify-btn" id="clickerBtn">Click Me!</button><div id="clickCount">0 / 400</div>`;
      const btn = parent.querySelector('#clickerBtn');
      const countDiv = parent.querySelector('#clickCount');
      btn.onclick = ()=>{
        state.clicks++;
        countDiv.textContent = `${state.clicks} / 400`;
        if(state.clicks>=400) done();
      }
    }
  },
  4:{
    render(parent,done){
      parent.innerHTML = `<div class="instruction">Memory Test: Click the tiles in order</div><div class="small-grid"></div>`;
      const grid = parent.querySelector('.small-grid');
      let sequence = shuffle(['🐶','🐱','🐼','🦊','🐻']).slice(0,4);
      let clicks = [];
      shuffle([...sequence,...shuffle(emojis).slice(0,5)]).forEach(e=>{
        const div = document.createElement('div');div.className='tile';div.textContent=e;
        div.onclick=()=>{
          clicks.push(e);
          if(sequence[clicks.length-1]!==e){div.style.background='red'; clicks=[];}
          else div.classList.add('matched');
          if(clicks.length===sequence.length) done();
        };
        grid.appendChild(div);
      });
    }
  },
  5:{
    render(parent,done){
      parent.innerHTML = `<div class="instruction">Quick Reaction: Press button when it turns green</div><button class="verify-btn" id="reactBtn">Wait...</button>`;
      const btn = parent.querySelector('#reactBtn');
      setTimeout(()=>{btn.textContent='Click!';btn.style.background='linear-gradient(90deg,#16a34a,#4ade80)'; btn.onclick=done;},Math.random()*3000+1000);
    }
  },
  6:{
    render(parent,done){
      parent.innerHTML = `<div class="instruction">Drag the 🔥 emoji into the box</div><div style="display:flex;gap:12px"><div class="cell" id="fire">🔥</div><div class="cell" id="drop" style="flex:1;height:96px"></div></div>`;
      const fire = document.getElementById('fire'); const drop = document.getElementById('drop');
      fire.draggable = true;
      fire.ondragstart = e=>{e.dataTransfer.setData('text/plain','🔥')};
      drop.ondragover = e=>e.preventDefault();
      drop.ondrop = e=>{
        const data = e.dataTransfer.getData('text/plain');
        if(data==='🔥') done();
      }
    }
  },
  7:{
    render(parent,done){
      parent.innerHTML = `<div class="instruction">Type "I am not a bot" exactly</div><input class="input" id="textInput" placeholder="Type here...">`;
      const input = document.getElementById('textInput');
      input.addEventListener('input',()=>{if(input.value==='I am not a bot') done()});
    }
  },
  8:{
    render(parent,done){
      parent.innerHTML = `<div class="instruction">Slide the slider to 100</div><input type="range" min="0" max="100" value="0" id="sliderInput">`;
      const slider = document.getElementById('sliderInput');
      slider.oninput = ()=>{if(Number(slider.value)>=100) done()};
    }
  },
  9:{
    render(parent,done){
      parent.innerHTML = `<div class="instruction">Solve the puzzle: Click all emojis with 🐶</div><div class="grid"></div>`;
      const grid = parent.querySelector('.grid');
      let corrects = 0;
      const pool = shuffle(['🐶','🐱','🐶','🐼','🦊','🐶']);
      pool.forEach(e=>{
        const div = document.createElement('div');div.className='cell';div.textContent=e;
        div.onclick=()=>{
          if(e==='🐶'){corrects++; div.classList.add('selected'); if(corrects===3) done();}
          else div.style.borderColor='red';
        };grid.appendChild(div);
      });
    }
  },
  10:{ // Flappy Bird Level
    render(parent,done){
      parent.innerHTML = `<div class="instruction">Flappy Bird: Score 11 points to verify</div><canvas id="flappyCanvas" width="400" height="400" style="background:#eef2ff;border:1px solid #cbd5e1;border-radius:10px"></canvas><div style="margin-top:8px"><button class="btn" id="redoFlappy">Redo</button></div><div style="margin-top:8px">Score: <span id="flappyScore">0</span></div>`;
      const canvas = document.getElementById('flappyCanvas');
      const ctx = canvas.getContext('2d');
      let bird = {x:50,y:200,vy:0};
      let pipes = [];
      let frame=0;
      state.flappyScore=0;
      let over=false;
      function addPipe(){const h=Math.floor(Math.random()*180+60);pipes.push({x:400,y:0,w:40,h:h});pipes.push({x:400,y:h+100,w:40,h:400-h-100})}
      function loop(){
        if(over)return;
        ctx.clearRect(0,0,400,400);
        bird.vy+=0.6; bird.y+=bird.vy;
        ctx.fillStyle='orange'; ctx.fillRect(bird.x,bird.y,20,20);
        if(frame%90===0)addPipe();
        for(let p of pipes){p.x-=2; ctx.fillStyle='green'; ctx.fillRect(p.x,p.y,p.w,p.h); if(p.x+20===bird.x) state.flappyScore++; }
        pipes = pipes.filter(p=>p.x+40>0);
        document.getElementById('flappyScore').textContent=state.flappyScore;
        if(bird.y>380||bird.y<0 || pipes.some(p=>bird.x+20>p.x && bird.x< p.x+p.w && bird.y+20>p.y && bird.y<p.y+p.h)){over=true; alert('Game Over'); }
        if(state.flappyScore>=11){done(); return;}
        frame++; requestAnimationFrame(loop);
      }
      canvas.onclick=()=>{bird.vy=-8};
      loop();
      document.getElementById('redoFlappy').onclick=()=>{over=false;bird.y=200;bird.vy=0;pipes=[];state.flappyScore=0;frame=0;loop();}
    }
  }
};

// For levels 11-18, I will generate unique creative mini-games
for(let i=11;i<=18;i++){
  levels[i]={
    render(parent,done){
      switch(i){
        case 11:
          parent.innerHTML=`<div class="instruction">Pattern Repeat: Click emojis in the repeating pattern</div><div class="grid"></div>`;
          const grid11 = parent.querySelector('.grid');
          let pattern=['🐱','🐶','🐱']; let user=[];
          shuffle([...pattern,...shuffle(emojis).slice(0,3)]).forEach(e=>{
            const div=document.createElement('div');div.className='cell';div.textContent=e;
            div.onclick=()=>{
              user.push(e);
              if(pattern[user.length-1]!==e){user=[];div.style.borderColor='red'}
              else div.style.borderColor='green';
              if(user.length===pattern.length) done();
            };grid11.appendChild(div);
          }); break;
        case 12:
          parent.innerHTML=`<div class="instruction">Catch the moving emoji 5 times</div><div id="catchArea" style="width:300px;height:300px;position:relative;background:#f4f6f8;margin-top:12px;border-radius:12px"></div>`;
          const catchArea=document.getElementById('catchArea'); let caught=0;
          const target12=document.createElement('div'); target12.textContent='🔥'; target12.style.position='absolute'; target12.style.fontSize='28px';
          catchArea.appendChild(target12);
          function moveTarget(){target12.style.top=Math.random()*260+'px'; target12.style.left=Math.random()*260+'px';}
          moveTarget();
          target12.onclick=()=>{
            caught++; moveTarget();
            if(caught>=5) done();
          }
          break;
        case 13:
          parent.innerHTML=`<div class="instruction">Rapid Type: Press space 50 times</div><div id="rapidCount">0 / 50</div>`;
          state.clicks=0;
          document.body.onkeydown=(e)=>{if(e.code==='Space'){state.clicks++; document.getElementById('rapidCount').textContent=`${state.clicks} / 50`; if(state.clicks>=50){document.body.onkeydown=null; done();}}}
          break;
        case 14:
          parent.innerHTML=`<div class="instruction">Emoji Drag Puzzle: Arrange 🐶🐱🐼 in order</div><div style="display:flex;gap:12px"><div class="cell" draggable="true">🐼</div><div class="cell" draggable="true">🐱</div><div class="cell" draggable="true">🐶</div></div>`;
          const cells14=Array.from(parent.querySelectorAll('.cell')); let order=['🐶','🐱','🐼'];
          cells14.forEach(c=>{
            c.ondragstart=e=>{e.dataTransfer.setData('text',c.textContent);}
          });
          cells14.forEach(c=>{
            c.ondragover=e=>e.preventDefault();
            c.ondrop=e=>{
              const data=e.dataTransfer.getData('text'); const tmp=c.textContent; c.textContent=data; cells14.find(x=>x.textContent===data && x!==c).textContent=tmp;
              if(cells14.map(x=>x.textContent).join('')===order.join('')) done();
            }
          });
          break;
        case 15:
          parent.innerHTML=`<div class="instruction">Hold the button for 3 seconds</div><button class="verify-btn" id="holdBtn">Hold Me</button>`;
          const holdBtn=document.getElementById('holdBtn'); let holdTimer;
          holdBtn.onmousedown=()=>{holdTimer=setTimeout(done,3000)};
          holdBtn.onmouseup=()=>{clearTimeout(holdTimer)};
          break;
        case 16:
          parent.innerHTML=`<div class="instruction">Math Challenge: 7+5=?</div><input class="input" id="mathInput" placeholder="Answer">`;
          const mathInput=document.getElementById('mathInput');
          mathInput.oninput=()=>{if(mathInput.value==='12') done();}
          break;
        case 17:
          parent.innerHTML=`<div class="instruction">Click emojis with 🔥 but avoid ❌</div><div class="grid"></div>`;
          const grid17=parent.querySelector('.grid'); let score17=0;
          const pool17=shuffle(['🔥','❌','🔥','🐶','🔥']);
          pool17.forEach(e=>{
            const div=document.createElement('div'); div.className='cell'; div.textContent=e;
            div.onclick=()=>{
              if(e==='🔥'){score17++; div.classList.add('selected'); if(score17===3) done();}
              else{div.style.borderColor='red'}
            };grid17.appendChild(div);
          }); break;
        case 18:
          parent.innerHTML=`<div class="instruction">Final Level: Type the emoji sequence 🐶🐱🐼</div><input class="input" id="finalInput" placeholder="🐶🐱🐼">`;
          const finalInput=document.getElementById('finalInput');
          finalInput.oninput=()=>{if(finalInput.value==='🐶🐱🐼') done();}
          break;
      }
    }
  }
}

toMenu();
</script>
</body>
</html>
