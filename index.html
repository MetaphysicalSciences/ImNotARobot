<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>I'm Not a Bot ğŸ¤–</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f1f1f1;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}
#container {
  background: white;
  border-radius: 10px;
  padding: 30px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  text-align: center;
  width: 90%;
  max-width: 400px;
}
h1 {
  margin-top: 0;
  font-size: 22px;
}
button {
  background: #4285f4;
  color: white;
  border: none;
  border-radius: 5px;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
}
button:hover { background: #357ae8; }
.grid {
  display: grid;
  grid-template-columns: repeat(3, 80px);
  gap: 10px;
  justify-content: center;
  margin: 20px 0;
}
.cell {
  width: 80px;
  height: 80px;
  border: 2px solid #ccc;
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 36px;
  cursor: pointer;
  background: #fff;
}
.selected { background: #c8e6c9; border-color: #4caf50; }
#message { font-weight: bold; margin-top: 10px; }
#progress { margin-top: 10px; font-size: 14px; }
input[type=text], input[type=number] {
  width: 80%;
  padding: 8px;
  font-size: 16px;
  border-radius: 4px;
  border: 1px solid #ccc;
}
#bar {
  height: 15px;
  width: 100%;
  background: #ddd;
  border-radius: 10px;
  overflow: hidden;
  margin-top: 15px;
}
#bar-inner {
  height: 100%;
  width: 0%;
  background: #4caf50;
  transition: width 0.2s;
}
@media(max-width:400px){
  .grid {grid-template-columns: repeat(3, 60px);}
  .cell {width:60px;height:60px;font-size:28px;}
}
</style>
</head>
<body>
<div id="container">
<h1>I'm Not a Bot ğŸ¤–</h1>
<div id="menu">
  <button id="start">Verify</button>
</div>
<div id="game" style="display:none;"></div>
<div id="message"></div>
<div id="progress"></div>
</div>
<script>
let level = 1
const game = document.getElementById('game')
const msg = document.getElementById('message')
const prog = document.getElementById('progress')
document.getElementById('start').onclick = () => startLevel(1)

function next() {
  level++
  if (level>18) {
    msg.textContent='âœ… You are truly human!'
    game.innerHTML=''
    prog.textContent=''
    return
  }
  startLevel(level)
}

function startLevel(lvl) {
  document.getElementById('menu').style.display='none'
  game.style.display='block'
  msg.textContent=''
  prog.textContent='Level '+lvl+'/18'
  game.innerHTML=''
  if (lvl==1) levelOne()
  if (lvl==2) levelTwo()
  if (lvl==3) levelThree()
  if (lvl==4) levelFour()
  if (lvl==5) levelFive()
  if (lvl==6) levelSix()
  if (lvl==7) levelSeven()
  if (lvl==8) levelEight()
  if (lvl==9) levelNine()
  if (lvl==10) levelTen()
  if (lvl==11) levelEleven()
  if (lvl==12) levelTwelve()
  if (lvl==13) levelThirteen()
  if (lvl==14) levelFourteen()
  if (lvl==15) levelFifteen()
  if (lvl==16) levelSixteen()
  if (lvl==17) levelSeventeen()
  if (lvl==18) levelEighteen()
}

function levelOne() {
  const emojis=['ğŸ¶','ğŸ±','ğŸ','ğŸš—','ğŸŒ¸','ğŸŒ²','ğŸŒ','ğŸ¸','ğŸŸ']
  const target=emojis[Math.floor(Math.random()*emojis.length)]
  const instruct=document.createElement('div')
  instruct.textContent='Select all '+target
  game.appendChild(instruct)
  const grid=document.createElement('div')
  grid.className='grid'
  game.appendChild(grid)
  const opts=[]
  const correct=2+Math.floor(Math.random()*2)
  for(let i=0;i<correct;i++) opts.push(target)
  while(opts.length<9){
    let e=emojis[Math.floor(Math.random()*emojis.length)]
    if(e!=target)opts.push(e)
  }
  opts.sort(()=>Math.random()-0.5)
  opts.forEach(e=>{
    const c=document.createElement('div')
    c.className='cell'
    c.textContent=e
    c.onclick=()=>c.classList.toggle('selected')
    grid.appendChild(c)
  })
  const btn=document.createElement('button')
  btn.textContent='Verify'
  btn.onclick=()=>{
    let ok=true
    grid.querySelectorAll('.cell').forEach(c=>{
      if(c.textContent==target&&!c.classList.contains('selected'))ok=false
      if(c.textContent!=target&&c.classList.contains('selected'))ok=false
    })
    if(ok){msg.textContent='âœ… Passed';setTimeout(next,1000)}else msg.textContent='âŒ Try again'
  }
  game.appendChild(btn)
}

function levelTwo() {
  const text=document.createElement('div')
  text.textContent='Type the characters:'
  const code=Math.random().toString(36).substring(2,7).toUpperCase()
  const disp=document.createElement('div')
  disp.style.letterSpacing='5px'
  disp.style.fontFamily='monospace'
  disp.style.fontSize='22px'
  disp.textContent=code
  const input=document.createElement('input')
  input.type='text'
  const btn=document.createElement('button')
  btn.textContent='Verify'
  btn.onclick=()=>{
    if(input.value.toUpperCase()==code){msg.textContent='âœ… Passed';setTimeout(next,1000)}else msg.textContent='âŒ Wrong'
  }
  game.append(text,disp,input,btn)
}

function levelThree() {
  const text=document.createElement('div')
  text.textContent='Click 50 times to verify'
  game.appendChild(text)
  const bar=document.createElement('div')
  bar.id='bar'
  const inner=document.createElement('div')
  inner.id='bar-inner'
  bar.appendChild(inner)
  game.appendChild(bar)
  let count=0
  game.onclick=()=>{
    count++
    inner.style.width=(count/50*100)+'%'
    if(count>=50){msg.textContent='âœ… Passed';game.onclick=null;setTimeout(next,1000)}
  }
}

function levelFour() {
  const text=document.createElement('div')
  text.textContent='Hold the button for 5 seconds to verify'
  const btn=document.createElement('button')
  btn.textContent='Hold'
  let timer
  btn.onmousedown=()=>{
    msg.textContent='â³ Holding...'
    timer=setTimeout(()=>{msg.textContent='âœ… Passed';setTimeout(next,1000)},5000)
  }
  btn.onmouseup=()=>{clearTimeout(timer);msg.textContent='âŒ Too short'}
  game.append(text,btn)
}

function levelFive() {
  const text=document.createElement('div')
  text.textContent='Select the square with a hidden dot'
  game.appendChild(text)
  const grid=document.createElement('div')
  grid.className='grid'
  game.appendChild(grid)
  const hidden=Math.floor(Math.random()*9)
  for(let i=0;i<9;i++){
    const c=document.createElement('div')
    c.className='cell'
    c.onclick=()=>{
      if(i==hidden){msg.textContent='âœ… Passed';setTimeout(next,1000)}else msg.textContent='âŒ Wrong one'
    }
    grid.appendChild(c)
  }
}

function levelSix() {
  const text=document.createElement('div')
  text.textContent='Drag the slider to 100%'
  game.appendChild(text)
  const range=document.createElement('input')
  range.type='range'
  range.min=0
  range.max=100
  range.value=0
  game.appendChild(range)
  const btn=document.createElement('button')
  btn.textContent='Verify'
  btn.onclick=()=>{
    if(range.value==100){msg.textContent='âœ… Passed';setTimeout(next,1000)}else msg.textContent='âŒ Not full'
  }
  game.appendChild(btn)
}

function levelSeven() {
  const text=document.createElement('div')
  text.textContent='Click the green square (changes each second)'
  game.appendChild(text)
  const grid=document.createElement('div')
  grid.className='grid'
  game.appendChild(grid)
  let green=Math.floor(Math.random()*9)
  for(let i=0;i<9;i++){
    const c=document.createElement('div')
    c.className='cell'
    grid.appendChild(c)
  }
  function refresh(){
    grid.querySelectorAll('.cell').forEach((c,i)=>{
      c.style.background=i==green?'#4caf50':'#fff'
      c.onclick=()=>{if(i==green){msg.textContent='âœ… Passed';clearInterval(interval);setTimeout(next,1000)}else msg.textContent='âŒ Missed'}
    })
    green=Math.floor(Math.random()*9)
  }
  const interval=setInterval(refresh,1000)
  refresh()
}

function levelEight() {
  const text=document.createElement('div')
  text.textContent='Balance the bar in center (use arrow keys)'
  game.appendChild(text)
  const bar=document.createElement('div')
  bar.style.width='200px'
  bar.style.height='10px'
  bar.style.background='#ccc'
  bar.style.margin='20px auto'
  bar.style.position='relative'
  const dot=document.createElement('div')
  dot.style.width='10px'
  dot.style.height='10px'
  dot.style.background='#4caf50'
  dot.style.position='absolute'
  dot.style.left='95px'
  bar.appendChild(dot)
  game.appendChild(bar)
  let pos=95
  let score=0
  const interval=setInterval(()=>{
    if(pos>90&&pos<110){score++}else score=0
    if(score>=100){msg.textContent='âœ… Passed';clearInterval(interval);document.onkeydown=null;setTimeout(next,1000)}
  },50)
  document.onkeydown=e=>{
    if(e.key=='ArrowLeft')pos-=3
    if(e.key=='ArrowRight')pos+=3
    pos=Math.max(0,Math.min(190,pos))
    dot.style.left=pos+'px'
  }
}

function levelNine() {
  const text=document.createElement('div')
  text.textContent='Solve 3 quick math problems'
  game.appendChild(text)
  let score=0
  function ask(){
    const a=Math.floor(Math.random()*10)
    const b=Math.floor(Math.random()*10)
    const ans=a+b
    const q=document.createElement('div')
    q.textContent=`${a} + ${b} = ?`
    const inp=document.createElement('input')
    inp.type='number'
    const btn=document.createElement('button')
    btn.textContent='Submit'
    btn.onclick=()=>{
      if(parseInt(inp.value)==ans){score++;msg.textContent='âœ…';q.remove();inp.remove();btn.remove();if(score==3){msg.textContent='âœ… Passed';setTimeout(next,1000)}else ask()}else msg.textContent='âŒ'}
    game.append(q,inp,btn)
  }
  ask()
}

// Level 10-18 harder / rounds / mixed
function levelTen(){simpleRounds(5,'Press the button 5 times quickly')}
function levelEleven(){sliderChallenge(80)}
function levelTwelve(){emojiRound('ğŸ’',3)}
function levelThirteen(){mathRounds(5)}
function levelFourteen(){holdMultiple(3,2000)}
function levelFifteen(){movingSquare(5)}
function levelSixteen(){clickFast(30)}
function levelSeventeen(){captchaTextRound(3)}
function levelEighteen(){balanceChallenge(120)}

// reusable functions for new levels
function simpleRounds(times,text){
  const instr=document.createElement('div');instr.textContent=text;game.appendChild(instr)
  let count=0
  const btn=document.createElement('button');btn.textContent='Press'
  btn.onclick=()=>{count++;if(count>=times){msg.textContent='âœ… Passed';setTimeout(next,1000)}}
  game.appendChild(btn)
}

function sliderChallenge(target){
  const text=document.createElement('div');text.textContent='Move slider to '+target+'%';game.appendChild(text)
  const s=document.createElement('input');s.type='range';s.min=0;s.max=100;s.value=0;game.appendChild(s)
  const btn=document.createElement('button');btn.textContent='Verify'
  btn.onclick=()=>{if(s.value>=target){msg.textContent='âœ… Passed';setTimeout(next,1000)}else msg.textContent='âŒ Not enough'}
  game.appendChild(btn)
}

function emojiRound(emoji,times){
  const text=document.createElement('div');text.textContent='Select all '+emoji+' for '+times+' rounds';game.appendChild(text)
  let round=0
  function nextRound(){
    if(round>=times){msg.textContent='âœ… Passed';setTimeout(next,1000);return}
    round++
    const grid=document.createElement('div');grid.className='grid';game.appendChild(grid)
    const opts=[]
    const correct=2+Math.floor(Math.random()*2)
    const emojis=['ğŸ¶','ğŸ±','ğŸ','ğŸš—','ğŸŒ¸','ğŸŒ²','ğŸŒ','ğŸ¸','ğŸŸ']
    for(let i=0;i<correct;i++) opts.push(emoji)
    while(opts.length<9){let e=emojis[Math.floor(Math.random()*emojis.length)];if(e!=emoji)opts.push(e)}
    opts.sort(()=>Math.random()-0.5)
    opts.forEach(e=>{
      const c=document.createElement('div');c.className='cell';c.textContent=e;c.onclick=()=>c.classList.toggle('selected');grid.appendChild(c)
    })
    const btn=document.createElement('button');btn.textContent='Verify'
    btn.onclick=()=>{
      let ok=true
      grid.querySelectorAll('.cell').forEach(c=>{
        if(c.textContent==emoji&&!c.classList.contains('selected'))ok=false
        if(c.textContent!=emoji&&c.classList.contains('selected'))ok=false
      })
      if(ok){grid.remove();nextRound()}else msg.textContent='âŒ Try again'
    }
    game.appendChild(btn)
  }
  nextRound()
}

function mathRounds(times){
  let score=0
  const text=document.createElement('div');text.textContent='Solve '+times+' math problems';game.appendChild(text)
  function ask(){
    const a=Math.floor(Math.random()*20);const b=Math.floor(Math.random()*20);const ans=a+b
    const q=document.createElement('div');q.textContent=a+' + '+b+' = ?'
    const inp=document.createElement('input');inp.type='number'
    const btn=document.createElement('button');btn.textContent='Submit'
    btn.onclick=()=>{if(parseInt(inp.value)==ans){score++;q.remove();inp.remove();btn.remove();if(score==times){msg.textContent='âœ… Passed';setTimeout(next,1000)}else ask()}else msg.textContent='âŒ'}
    game.append(q,inp,btn)
  }
  ask()
}

function holdMultiple(times,ms){
  const text=document.createElement('div');text.textContent='Hold button '+times+' times for '+ms/1000+'s each';game.appendChild(text)
  let count=0
  const btn=document.createElement('button');btn.textContent='Hold'
  btn.onmousedown=()=>{timer=setTimeout(()=>{count++;if(count>=times){msg.textContent='âœ… Passed';setTimeout(next,1000)}else msg.textContent='âœ” Next';},ms)}
  btn.onmouseup=()=>{clearTimeout(timer)}
  game.appendChild(btn)
}

function movingSquare(times){
  const text=document.createElement('div');text.textContent='Click the moving green square '+times+' times';game.appendChild(text)
  const grid=document.createElement('div');grid.className='grid';game.appendChild(grid)
  for(let i=0;i<9;i++){const c=document.createElement('div');c.className='cell';grid.appendChild(c)}
  let count=0
  function refresh(){
    const green=Math.floor(Math.random()*9)
    grid.querySelectorAll('.cell').forEach((c,i)=>{c.style.background=i==green?'#4caf50':'#fff';c.onclick=()=>{if(i==green){count++;if(count>=times){msg.textContent='âœ… Passed';clearInterval(interval);setTimeout(next,1000)}}}})
  }
  const interval=setInterval(refresh,800)
}

function clickFast(times){
  const text=document.createElement('div');text.textContent='Click the button '+times+' times quickly';game.appendChild(text)
  let count=0
  const btn=document.createElement('button');btn.textContent='Click'
  btn.onclick=()=>{count++;if(count>=times){msg.textContent='âœ… Passed';setTimeout(next,1000)}}
  game.appendChild(btn)
}

function captchaTextRound(times){
  const text=document.createElement('div');text.textContent='Type the codes '+times+' rounds';game.appendChild(text)
  let round=0
  function nextRound(){
    if(round>=times){msg.textContent='âœ… Passed';setTimeout(next,1000);return}
    round++
    const code=Math.random().toString(36).substring(2,6).toUpperCase()
    const disp=document.createElement('div');disp.style.letterSpacing='5px';disp.style.fontFamily='monospace';disp.textContent=code;game.appendChild(disp)
    const inp=document.createElement('input');inp.type='text';game.appendChild(inp)
    const btn=document.createElement('button');btn.textContent='Verify'
    btn.onclick=()=>{if(inp.value.toUpperCase()==code){disp.remove();inp.remove();btn.remove();nextRound()}else msg.textContent='âŒ Wrong'}
    game.appendChild(btn)
  }
  nextRound()
}

function balanceChallenge(frames){
  const text=document.createElement('div');text.textContent='Balance the bar in center using arrows';game.appendChild(text)
  const bar=document.createElement('div');bar.style.width='200px';bar.style.height='10px';bar.style.background='#ccc';bar.style.margin='20px auto';bar.style.position='relative'
  const dot=document.createElement('div');dot.style.width='10px';dot.style.height='10px';dot.style.background='#4caf50';dot.style.position='absolute';dot.style.left='95px';bar.appendChild(dot);game.appendChild(bar)
  let pos=95;let score=0
  const interval=setInterval(()=>{if(pos>90&&pos<110){score++}else score=0;if(score>=frames){msg.textContent='âœ… Passed';clearInterval(interval);document.onkeydown=null;setTimeout(next,1000)}},50)
  document.onkeydown=e=>{if(e.key=='ArrowLeft')pos-=3;if(e.key=='ArrowRight')pos+=3;pos=Math.max(0,Math.min(190,pos));dot.style.left=pos+'px'}
}
</script>
</body>
</html>
